<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <style>
        #graphic{
            transition-duration: 0.2s;
            opacity: 0;
        }
    </style>
</head>
<body>
    <h1>Countdown</h1>
    <div id="clock">0</div>
    <script>
        const seconds = nodecg.Replicant("countdown_seconds", {defaultValue: "0"});

        nodecg.listenFor('countdown_update', message => {
            var hours = Math.floor(seconds.value / 3600);
            var minutes = Math.floor((seconds.value - (hours * 3600))/60);
            var seconds_f = Math.floor((seconds.value - (minutes * 60)));
            if(seconds_f.toString().length === 1){
                seconds_f = "0"+seconds_f;
            }
            document.getElementById("clock").innerHTML = minutes+":"+seconds_f;
        });
    </script>
</body>
</html>
